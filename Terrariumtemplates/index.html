<!DOCTYPE HTML>
<html>
	<head>
		<head>
			<style>
			  form div {
				padding: 10px;
				}
				</style>
		  
		<title>
			Terrarium by N.I.S
		</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<img src="images/NIS-LOGO-Transparent.png" alt="Image Description" style="position: absolute; top: 0; left: 0; width: 200px; height: 80px;" onclick="window.location.href = 'https://bennnnnnnnnnnnn.github.io/BenPortfolio.github.io/';">
			<div class="content">
				
				<h1><img src="images/Terrarium.png" alt="Image Description" style="vertical-align: middle "> </h1>
				<p>Let's get started</p>
				<ul class="actions">
					<li>
                        <form method="POST" action="/login">
                            <div>
                                
                                <input type="text" id="username" name="username" placeholder="Username">
                            </div>
                            <div>
                                
                                <input type="password" id="password" name="password" placeholder="Password">
                            </div>
                            <div>
                                <input type="checkbox" id="show-password" onclick="showPassword()">
                                <label for="show-password">Show Password</label>
                            </div>
                            <div>
                                <input type="button" value="Login" onclick="login()">
                            </div>
                        </form>
                    </li>
                    
					
				</ul>
			</div>
		</header>

		<!-- Footer -->
		<footer id="footer">
			<ul class="icons">
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
			</ul>
			<p class="copyright">&copy; Untitled. Credits: <a href="http://html5up.net">HTML5 UP</a></p>
		</footer>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

		<!-- Password Show/Hide Script -->
		<script>
		
		
		function showPassword() {
			var x = document.getElementById("password");
			if (x.type === "password") {
				x.type = "text";
			} else {
				x.type = "password";
			}
		}
		
		
		function login() {
		// Get the username and password from the form
		var username = $('#username').val();
		var password = $('#password').val();
		console.log('Login started');

		// Send an AJAX request to the server with the form data
		$.ajax({
			type: 'POST',
			url: 'http://localhost:5000/login',
			data: {username: username, password: password},

			success: function(result) {
			// Handle the response from the server
			if (result.status == 'success') {
				console.log('Login successful');
				// Redirect to landing.html with the plugin access information if the login is successful
				var plugin_access = result.plugins;
				console.log('Plugin access:', plugin_access);
				console.log('Plugin access stringified:', JSON.stringify(plugin_access));
				console.log(username);
				window.location.href = 'landing.html?plugin_access=' + encodeURIComponent(JSON.stringify(plugin_access));
			} else {
				alert(result.message);
				console.log('Login bad credentials');
			}
			},
			error: function(jqXHR, textStatus, errorThrown) {
			console.log('AJAX request failed: ' + textStatus + ', ' + errorThrown);
			alert('An error occurred while processing your request. Please try again later.');
			}
		});
		}
</script>

		
		</script>

	</body>
</html>
